<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Upload Binaries | OpenMQTTGateway</title>
    <meta name="description" content="One gateway, many technologies: MQTT gateway for ESP8266, ESP32, Sonoff RF Bridge or Arduino with bidirectional 433mhz/315mhz/868mhz, Infrared communications, BLE, beacons detection, mi flora / mi jia / LYWSD02/ Mi Scale compatibility, SMS &amp; LORA.">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
  <link rel="shortcut icon" href="/img/apple-touch-icon.png">
    
    <link rel="preload" href="/assets/css/0.styles.e330e0e9.css" as="style"><link rel="preload" href="/assets/js/app.1119c0e6.js" as="script"><link rel="preload" href="/assets/js/2.e0da9a0a.js" as="script"><link rel="preload" href="/assets/js/6.4f1967b0.js" as="script"><link rel="prefetch" href="/assets/js/10.b18030e1.js"><link rel="prefetch" href="/assets/js/11.a419f27e.js"><link rel="prefetch" href="/assets/js/12.fd90da10.js"><link rel="prefetch" href="/assets/js/13.3e0786ca.js"><link rel="prefetch" href="/assets/js/14.44a81a1d.js"><link rel="prefetch" href="/assets/js/15.a626607b.js"><link rel="prefetch" href="/assets/js/16.9f4a04cc.js"><link rel="prefetch" href="/assets/js/17.076ae0d1.js"><link rel="prefetch" href="/assets/js/18.3c14c144.js"><link rel="prefetch" href="/assets/js/19.d9a184aa.js"><link rel="prefetch" href="/assets/js/20.5a836d0c.js"><link rel="prefetch" href="/assets/js/21.6f0db153.js"><link rel="prefetch" href="/assets/js/22.c4fade63.js"><link rel="prefetch" href="/assets/js/23.6312c0a8.js"><link rel="prefetch" href="/assets/js/24.fb125bf6.js"><link rel="prefetch" href="/assets/js/25.6a1248b0.js"><link rel="prefetch" href="/assets/js/26.61977da3.js"><link rel="prefetch" href="/assets/js/27.c1bdf653.js"><link rel="prefetch" href="/assets/js/28.7eadbab0.js"><link rel="prefetch" href="/assets/js/29.c60a7f52.js"><link rel="prefetch" href="/assets/js/3.9e61abe3.js"><link rel="prefetch" href="/assets/js/30.8f23c132.js"><link rel="prefetch" href="/assets/js/31.2a2d0088.js"><link rel="prefetch" href="/assets/js/32.9bcfb6c5.js"><link rel="prefetch" href="/assets/js/33.5fa43134.js"><link rel="prefetch" href="/assets/js/4.420ef016.js"><link rel="prefetch" href="/assets/js/5.19648430.js"><link rel="prefetch" href="/assets/js/7.c0402f9a.js"><link rel="prefetch" href="/assets/js/8.93ab2eb0.js"><link rel="prefetch" href="/assets/js/9.9b98505c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e330e0e9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">OpenMQTTGateway</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://1technophile.blogspot.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/" class="nav-link">Docs</a></div><div class="nav-item"><a href="https://community.openmqttgateway.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://docs.google.com/spreadsheets/d/1_5fQjAixzRtepkykmL-3uN3G5bLfQ0zMajM9OBZ1bx0/edit#gid=2126158079" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Devices
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/1technophile/OpenMQTTGateway" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://1technophile.blogspot.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/" class="nav-link">Docs</a></div><div class="nav-item"><a href="https://community.openmqttgateway.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://docs.google.com/spreadsheets/d/1_5fQjAixzRtepkykmL-3uN3G5bLfQ0zMajM9OBZ1bx0/edit#gid=2126158079" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Devices
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/1technophile/OpenMQTTGateway" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">0 - What is it for 🏠</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/prerequisites/devices/" class="sidebar-heading clickable"><span>1 - Prerequisites🧭</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/setitup/rf" class="sidebar-heading clickable"><span>2 - Set it up 🔨</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/upload/binaries" class="sidebar-heading clickable open active"><span>3 - Upload ➡️</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/upload/binaries.html" class="active sidebar-link">Upload Binaries</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/upload/binaries.html#esp32" class="sidebar-link">ESP32</a></li><li class="sidebar-sub-header"><a href="/upload/binaries.html#esp8266" class="sidebar-link">ESP8266</a></li></ul></li><li><a href="/upload/pio.html" class="sidebar-link">Upload with PlatformIO</a></li><li><a href="/upload/arduino-ide.html" class="sidebar-link">Upload with Arduino IDE</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/use/rf" class="sidebar-heading clickable"><span>4 - Use ✈️</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/integrate/openhab2/" class="sidebar-heading clickable"><span>5 - Integrate 🎉</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>6 - Participate 💻</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="upload-binaries"><a href="#upload-binaries" class="header-anchor">#</a> Upload Binaries</h1> <p>This section is usefull if you want to directly flash your ESP from your desktop. Once flashed you can change  wifi and broker settings.
Nevertheless you will not be able to change advanced parameters, if you want to do so refer to [Upload from PlatformIO][pio] section.</p> <p>Download the binary corresponding to your board and gateway <a href="https://github.com/1technophile/OpenMQTTGateway/releases" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> from github and uncompress it.</p> <h2 id="esp32"><a href="#esp32" class="header-anchor">#</a> ESP32</h2> <ul><li>Download the bootloader <a href="https://github.com/espressif/arduino-esp32/raw/master/tools/sdk/bin/bootloader_dio_80m.bin" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Download the boot_app0 from <a href="https://github.com/espressif/arduino-esp32/raw/master/tools/partitions/boot_app0.bin" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Download the flash tool utility from espressif:
https://www.espressif.com/en/products/hardware/esp32/resources</li> <li>Uncompress the package</li> <li>Execute <code>flash_download_tools</code></li> <li>Choose ESP32 DownloadTool</li> <li>Set the files and the adress as below:
<img src="/assets/img/OpenMQTTgateway_ESP32_binary_flash.e2aec4db.png" alt="Flash download tool">
And set the parameters used by arduino IDE, we are able to upload to ESP32 a binary file containing OpenMQTTGateway.</li> <li>Set the config as above</li> <li>Connect your ESP32 board and select the COM port</li> <li>Click on start
The upload details appears in the rear shell windows, you can see also the progress bar changing</li> <li>Once done the flash tool display &quot;FINISH&quot; like below
<img src="/assets/img/OpenMQTTgateway_ESP32_binary_flash2.047e266a.png" alt="Flash download tool 2"></li></ul> <h2 id="esp8266"><a href="#esp8266" class="header-anchor">#</a> ESP8266</h2> <ul><li>Download the NodeMCU Py Flasher tool :
https://github.com/marcelstoer/nodemcu-pyflasher/releases</li> <li>Execute <code>NodeMCU-PyFlasher</code></li> <li>Set the files and parameters as below:
<img src="/assets/img/OpenMQTTgateway_NodeMCU_PyFlasher.71bc778e.png" alt=""></li> <li>Connect your board and select the COM port</li> <li>Click on <em>FlashNodeMCU</em>
The upload details appears.</li></ul> <p>Note that to reset the wifi and mqtt settings you can check <em>yes, wipes all data</em></p> <p>Once loaded into your board you have to set your network parameters with wifi manager portal
From your smartphone search for your OpenMQTTGateway wifi network and connect to it, a web page will appear</p> <ul><li>Select your wifi</li> <li>Set your wifi password</li> <li>Set your MQTT Server IP</li> <li>Set your MQTT Server username (not compulsory)</li> <li>Set your MQTT Server password (not compulsory)</li></ul> <p>The ESP restart and connect to your network. Note that your credentials are saved into the ESP memory, if you want to redo the configuration you have to erase the ESP memory with the flash download tool.</p> <p><em>The default password for wifi manager is &quot;your_password&quot;</em></p> <p>Once done the gateway should connect to your network and your broker, you should see it into the broker in the form of the following messages:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>home/OpenMQTTGateway/LWT Online 
home/OpenMQTTGateway/version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/1technophile/OpenMQTTGateway/edit/development/docs/upload/binaries.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/8/2019, 9:03:52 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/setitup/actuators.html" class="prev">Actuators</a></span> <span class="next"><a href="/upload/pio.html">Upload with PlatformIO</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1119c0e6.js" defer></script><script src="/assets/js/2.e0da9a0a.js" defer></script><script src="/assets/js/6.4f1967b0.js" defer></script>
  </body>
</html>
